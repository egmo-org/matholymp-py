<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Release notes &#8212; matholymp 2025.12.0.dev0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <script src="../_static/documentation_options.js?v=4e8c6c69"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Copyright and license" href="../copying/" />
    <link rel="prev" title="Contributing to matholymp" href="../contributing/" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="release-notes">
<h1>Release notes<a class="headerlink" href="#release-notes" title="Link to this heading">¶</a></h1>
<p>These release notes do not cover changes to the Python API of
matholymp, which is considered unstable.  If making use of matholymp
at the Python API level (such as by writing your own scripts importing
matholymp modules, or making substantial changes to the example HTML
templates for the online registration system that involve calls to
matholymp APIs not in the provided examples), you should examine the
source code changes to determine if any API changes require changes to
your code.</p>
<p>When upgrading matholymp, you should run the
<strong class="command">mo-static-upgrade</strong> script from the directory containing the
static site, to update the CSV data files with details of past events
for any format changes in the new version of matholymp.  After doing
so, run <strong class="command">mo-static-generate</strong>.</p>
<section id="next-version-unreleased">
<h2>Next version (unreleased)<a class="headerlink" href="#next-version-unreleased" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>For a virtual event, the registration system does not request
information about nationality, passport number, name as on passport,
allergies and dietary requirements, travel, room type or person with
whom to share a room.  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is changed
accordingly.</p></li>
<li><p>The variable <code class="docutils literal notranslate"><span class="pre">matholymp_virtual_event</span></code> in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system has been
replaced by a variable <code class="docutils literal notranslate"><span class="pre">matholymp_event_type</span></code>.  The value
<code class="docutils literal notranslate"><span class="pre">in-person</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">No</span></code> for the old variable while
<code class="docutils literal notranslate"><span class="pre">virtual</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">Yes</span></code> for the old variable.</p></li>
<li><p>There is some support for a hybrid event, where some participants
attend in person and others take part remotely.
<code class="docutils literal notranslate"><span class="pre">matholymp_event_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">hybrid</span></code> for such an event.
<code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">country.prereg.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> are changed accordingly.  An additional
variable <code class="docutils literal notranslate"><span class="pre">matholymp_hybrid_countries</span></code> must be specified to say
whether non-administrative registration accounts can register their
own country as having participants split between in-person and
remote participation.  Generation of name badges, invitation letters
or labels for contestant desks, whether from the command line or
through the registration system, automatically excludes remote
participants.  When generating papers, single files may be generated
for in-person participants only, and split files may be generated
for remote participants only.  The file <code class="file docutils literal notranslate"><span class="pre">language-status.txt</span></code>
generated by <strong class="command">mo-document-generate language-list all</strong> shows
which languages are used by in-person or remote contestants.</p></li>
<li><p>The static site now describes virtual events as “organised by” not
“in” their host countries.</p></li>
<li><p>The Roundup patches have been updated for Roundup 2.5.0, as has the
example <code class="file docutils literal notranslate"><span class="pre">config.ini</span></code>.  The update includes corresponding
changes to <code class="file docutils literal notranslate"><span class="pre">dpage.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">user.item.html</span></code>.</p></li>
<li><p>As part of changes to how enabling and disabling registration are
handled, <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> are changed.</p></li>
<li><p>The registration system also supports the collection of passport or
ID scans.  New files <code class="file docutils literal notranslate"><span class="pre">id_scan.index.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">id_scan.item.html</span></code> are added, and
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> are
changed.</p></li>
<li><p>The registration system now supports collecting billing addresses
for countries.  <code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">country.prereg.html</span></code> are changed.</p></li>
<li><p>Document generation now uses separate templates
<code class="file docutils literal notranslate"><span class="pre">certificate-template-award.tex</span></code> and
<code class="file docutils literal notranslate"><span class="pre">certificate-template-participation.tex</span></code> for generating
certificates instead of a single <code class="file docutils literal notranslate"><span class="pre">certificate-template.tex</span></code>.</p></li>
<li><p>Email addresses for leaders are collected unconditionally in
preregistration rather than only for virtual or hybrid events.
<code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">country.prereg.html</span></code> are
changed.</p></li>
<li><p>There is now support for hiding scores before they are final.  To
use it, set “Message for hiding scores” to something nonempty under
<span class="guilabel">Set medal boundaries or disable registration</span>; that
message (possibly giving the time at which scores will stop being
hidden, for example) is displayed on the scoreboard page.
<code class="file docutils literal notranslate"><span class="pre">country.item.html,</span> <span class="pre">:file:`event.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">person.scoreboard.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">person.scoredisplay.html</span></code> are changed.</p></li>
<li><p>Document generation now supports using <strong class="command">xelatex</strong> as an
alternative to <strong class="command">pdflatex</strong>.  If a template source file has a
comment mentioning <code class="docutils literal notranslate"><span class="pre">xelatex</span></code>, that program will be used to compile
documents using that template.</p></li>
<li><p>Automated testing of the registration system now supports and
requires MechanicalSoup version 1.3.0 or later.</p></li>
<li><p>The obsolescent <code class="xref py py-mod docutils literal notranslate"><span class="pre">imghdr</span></code> Python module is no longer used, so
Python 3.13 and later are supported.</p></li>
<li><p>Building the matholympy documentation now supports Sphinx 2.0.0 and
later, and requires 1.7.0 or later.</p></li>
<li><p>There is partial support for handling scans of scripts.  The
registration system has a new configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_num_exams</span></code>.  New files <code class="file docutils literal notranslate"><span class="pre">script.index.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">script.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">script.manage.html</span></code> are added;
<code class="file docutils literal notranslate"><span class="pre">page.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> are changed.</p></li>
<li><p>The primary source for the software is now <a class="reference external" href="https://github.com/egmo-org/matholymp-py">on GitHub</a>.</p></li>
<li><p>Document generation now uses <a class="reference external" href="https://github.com/py-pdf/pypdf">pypdf</a> (version 3.1.0 or later) rather
than the older PyPDF2.</p></li>
</ul>
</section>
<section id="version-2020-07-0-22-july-2020">
<h2>Version 2020.07.0 (22 July 2020)<a class="headerlink" href="#version-2020-07-0-22-july-2020" title="Link to this heading">¶</a></h2>
<p>Because of changes to how data is represented in the registration
system, upgrades to this version can only be made between events when
the registration system is not active.</p>
<ul class="simple">
<li><p>Python 3 is now fully supported in the registration system.  Python
3.5 or later is now required; Python 2 is no longer supported.  To
support Python 3, Roundup 2.0.0 or later is required by the
registration system.</p></li>
<li><p>A bug has been fixed in <strong class="command">mo-static-import</strong> where it would
download an incorrect file as the RSS feed of scores when
downloading files automatically from the registration system.</p></li>
<li><p>A bug has been fixed that caused the static site to have incorrect
descriptions of the dates as of which ages are given for contestants
who competed in years all of which had the same such description but
for which that description was not the one in
<code class="file docutils literal notranslate"><span class="pre">staticsite.cfg</span></code>.</p></li>
<li><p>Changes have been made to how uploaded flags and photos are handled
in the registration system, which involve updates to
<code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code>.  New files
<code class="file docutils literal notranslate"><span class="pre">consent_form.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">consent_form.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">flag.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">flag.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">photo.index.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">photo.item.html</span></code> are added, and
<code class="file docutils literal notranslate"><span class="pre">file.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">file.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">private_file.index.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">private_file.item.html</span></code>
are removed.</p></li>
<li><p>As part of cleanups to Python coding style, the example Python files
for the registration system have been changed.</p></li>
<li><p>The registration system code and associated Roundup patches have
been updated for Roundup 2.0.0, as have many HTML templates for the
registration system and the example <code class="file docutils literal notranslate"><span class="pre">config.ini</span></code>.  Because of
Roundup API changes, the code will no longer work with older Roundup
versions.  The modified templates are <code class="file docutils literal notranslate"><span class="pre">_generic.404.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">_generic.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">country.retireconfirm.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">help_controls.js</span></code>, <code class="file docutils literal notranslate"><span class="pre">page.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.retireconfirm.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">person.rooms.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.scoreenter.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">person.status.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">user.forgotten.html</span></code>.  Some Roundup patches have been removed
as integrated into Roundup 2.0.0.  As well as applying changes to
<code class="file docutils literal notranslate"><span class="pre">config.ini</span></code>, a new <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> setting in that file needs
to be added using <strong class="command">roundup-admin updateconfig</strong> followed by
merging the matholymp-specific comments back into the file.</p></li>
<li><p>Various HTML templates for the registration system have been updated
to support Python 3.  The modified templates are
<code class="file docutils literal notranslate"><span class="pre">_generic.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">_generic.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">arrival.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">country.index.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">event.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">gender.index.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">language.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">matholymprole.index.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">rss.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">tshirt.index.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">user.index.html</span></code>.</p></li>
<li><p>The example <code class="file docutils literal notranslate"><span class="pre">extensions/email-template-new-user</span></code> for the
registration system has been extended to discuss more cases of which
organisers should be contacted for certain issues.</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> now says explicitly that names should be
entered in the form they should appear on the website and name
badges, rather than entering full legal names as on a passport.</p></li>
<li><p>The automated tests run by <strong class="command">mo-run-tests</strong> now include some
tests of the registration system, if Roundup and <a class="reference external" href="https://mechanicalsoup.readthedocs.io/">MechanicalSoup</a> are available.  These
tests do not yet cover all of the registration system functionality.</p></li>
<li><p>Various HTML templates for the registration system have been
removed, as templates that originally came from Roundup but are not
relevant, or are no longer relevant, in the registration system
context.  The removed templates are <code class="file docutils literal notranslate"><span class="pre">_generic.calendar.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">_generic.help-empty.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">_generic.help-list.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">_generic.help-search.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">_generic.help-submit.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">_generic.help.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">help.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">user.help-search.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">user.help.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">user.register.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">user.rego_progress.html</span></code>.  The templates <code class="file docutils literal notranslate"><span class="pre">dpage.html</span></code>
and <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> are modified to remove content from them that
is irrelevant in the registration system context and that references
removed files.</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> have been
changed so that the page title just shows a blank for the name of a
removed country or person, instead of showing <code class="docutils literal notranslate"><span class="pre">[hidden]</span></code>.  Other
templates for data only visible to some users have been similarly
changed to avoid showing <code class="docutils literal notranslate"><span class="pre">[hidden]</span></code>; this affects the following
templates: <code class="file docutils literal notranslate"><span class="pre">arrival.item.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">event.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">gender.item.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">language.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">tshirt.item.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">user.item.html</span></code>.</p></li>
<li><p>Actions modifying registration system data are now required to be
submitted via HTTP POST requests (before the CSRF protection added
in Roundup 1.6.0, such a restriction would not have added any
security, but given the CSRF protection which does not apply to GET
requests, it is now desirable).</p></li>
<li><p><strong class="command">mo-run-tests</strong> now supports a <code class="docutils literal notranslate"><span class="pre">--coverage</span></code> option to
measure code coverage, using <a class="reference external" href="https://coverage.readthedocs.io/en/latest/">Coverage.py</a>.  This is only
relevant for developing matholymp, not for using it.</p></li>
<li><p>A bug has been fixed that produced internal errors when registering
a person with an arrival or departure time hour specified without a
date, or an arrival or departure time minute specified without a
date or an hour.</p></li>
<li><p>A possible race condition has been fixed in the handling of consent
form uploads.  That race condition could have allowed a malicious
user with access to register participants for one country to cause a
consent form uploaded for another country to be linked to a
participant from the malicious user’s country, if they acted at
exactly the right time while the upload of the consent form was
being processed.</p></li>
<li><p>Flags for removed countries, replaced flags for current countries,
photos for removed people and replaced photos for current people are
no longer public in the registration system.  (There were no public
links to such files, but previously they could still be accessed
under the URLs under which they were public when they were the
current flag or photo for a non-removed country or person.)</p></li>
<li><p>The new configuration variable <code class="docutils literal notranslate"><span class="pre">matholymp_data_protection_url</span></code>
must be specified in <code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the
registration system.  This gives the URL of a page with information
about how personal data of participants is used.
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> has been updated to link to that page.  The
example <code class="file docutils literal notranslate"><span class="pre">extensions/email-template-new-user</span></code> for the
registration system has also been updated to reference such
information.</p></li>
<li><p>The registration system now supports collecting information about
participant consent for certain uses of personal data.  The new
configuration variable <code class="docutils literal notranslate"><span class="pre">matholymp_consent_ui</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.  If
<code class="docutils literal notranslate"><span class="pre">Yes</span></code>, this information is collected by the registration system;
if <code class="docutils literal notranslate"><span class="pre">No</span></code>, it is not, as before.  When this information is
collected, photos may be uploaded that can be used on name badges
but are not public on the website.  The example
<code class="file docutils literal notranslate"><span class="pre">extensions/email-template-new-user</span></code> for the registration
system references this information.  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> has
been updated accordingly.</p></li>
<li><p>Specifying an invalid contact email address for a country now
results more consistently in errors from the registration system,
rather than only producing errors if the registration system tried
to create a user account with the invalid address.</p></li>
<li><p>More than one contact email address may be specified for a country
in the registration system, with the additional addresses all
receiving the email generated with username and password details.
<code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> is updated accordingly.</p></li>
<li><p>A bug has been fixed that produced internal errors when registering
a person with only part of their date of birth specified, when dates
of birth are not required for all participants.</p></li>
<li><p>When official and unofficial countries are distinguished,
scoreboards and CSV files now show ranks for countries and
contestants restricted to official countries, in addition to ranks
among the full set of countries and contestants.</p></li>
<li><p>Papers for Deputy Leaders (and Observers with Deputy and
Contestants) are generated in a separate file from those for Leaders
(and Observers with Leader).</p></li>
<li><p>The static site table of all countries at all events now shows which
countries are official countries, when official and unofficial
countries are distinguished at at least one event.</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">event.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">event.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">person.scoreselect.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.status.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> have been modified
for internal changes in registration system code.</p></li>
<li><p>A bug has been fixed that produced internal errors when scaling down
PNG photos with an alpha channel.</p></li>
<li><p>The menu of countries for entering scores no longer shows staff
countries or “None”.</p></li>
<li><p>When logged in administratively to the registration system, the CSV
file of countries now includes their contact email addresses.
Consequently, a CSV file of countries downloaded when logged in
administratively cannot be used with <strong class="command">mo-static-import</strong>.</p></li>
<li><p>The registration system now supports tracking the expected numbers
of participants in each role, and the expected number of single room
requests, from each country.  This information can be edited by
registering users for that country, and appears in the CSV file of
countries when logged in administratively.  Entering this data can
be enabled or disabled for registering users independently of
enabling or disabling registering details of participants.  The
registration status page shows whether these numbers have not yet
been confirmed for a given country, and uses them in determining
whether any expected participants have not yet been registered,
whether unexpected participants have been registered, and whether
there are more or fewer single room requests than expected.
<code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">event.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> are updated
accordingly, as is <code class="file docutils literal notranslate"><span class="pre">extensions/email-template-new-user</span></code>; a new
template <code class="file docutils literal notranslate"><span class="pre">country.prereg.html</span></code> is added.</p></li>
<li><p>The default roles available in the registration system now include
“Crew”, “Guest”, “Press” and “VIP”.</p></li>
<li><p>Requests for single rooms can now be made through the registration
system; the available types of rooms, generally and for particular
roles, can be configured online.  There are five new configuration
variables that must be specified in <code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code>
for the registration system: <code class="docutils literal notranslate"><span class="pre">matholymp_initial_room_types</span></code>,
<code class="docutils literal notranslate"><span class="pre">matholymp_initial_room_types_non_contestant</span></code>,
<code class="docutils literal notranslate"><span class="pre">matholymp_initial_room_types_contestant</span></code>,
<code class="docutils literal notranslate"><span class="pre">matholymp_initial_default_room_type_non_contestant</span></code> and
<code class="docutils literal notranslate"><span class="pre">matholymp_initial_default_room_type_contestant</span></code>.  There are new
templates <code class="file docutils literal notranslate"><span class="pre">room_type.index.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">room_type.item.html</span></code>, while <code class="file docutils literal notranslate"><span class="pre">matholymprole.item.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">page.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> are updated
accordingly.</p></li>
<li><p>Requests to share a room with a given other person can now be made
through the registration system.  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is
updated accordingly.</p></li>
<li><p>The choice of background PDFs for name badges is now configured
through the registration system rather than hardcoded in Python
code.  There are new templates <code class="file docutils literal notranslate"><span class="pre">badge_type.index.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">badge_type.item.html</span></code>, while <code class="file docutils literal notranslate"><span class="pre">matholymprole.item.html</span></code>
and <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> are updated accordingly.</p></li>
<li><p>Badges for the “Problem Selection” and “Problem Selection Chair”
roles now default to using the badge type for coordinators rather
than the generic type for organisers.</p></li>
<li><p>The default document generation template <code class="file docutils literal notranslate"><span class="pre">badge-template.tex</span></code>
has been adjusted to allow more space for the event venue.</p></li>
<li><p>Background colours for name badges are now configured through the
registration system.  This means that typically only a single
background PDF <code class="file docutils literal notranslate"><span class="pre">lanyard-generic.pdf</span></code> is needed for producing
name badges, when PDFs for different roles differed only in choice
of colours.  The default document generation template
<code class="file docutils literal notranslate"><span class="pre">badge-template.tex</span></code> is adjusted accordingly.</p></li>
<li><p>When the registration system is configured to collect passport
numbers and nationality information, it also asks for participants’
names as in their passports if different from the names given for
the website and name badges and needed for invitation letters.
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is updated accordingly.</p></li>
<li><p>Countries can be registered in bulk by uploading a CSV file of
country details rather than needing to fill in an online form for
each country being registered.  (If there is no flag to reuse or a
new flag is to be used, that still needs to be handled manually for
each such country.)  There are new templates
<code class="file docutils literal notranslate"><span class="pre">country.bulkregister.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">country.bulkconfirm.html</span></code>, while <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> is updated
accordingly.</p></li>
<li><p>Non-administrative registration system users can no longer change
their own usernames.</p></li>
<li><p>The registration system now supports creating or editing a country
with a code that is a substring of that for another country.
(Previously this only worked if the country with the longer code was
created later and the one with the shorter code not edited after
that.)</p></li>
<li><p>Staff participants can be registered in bulk by uploading a CSV file
of basic person details, with associated self-registration accounts
being automatically created and emails being sent to those
participants to request that they complete the remaining details,
rather than an administrative user needing to fill in an online form
for each person being registered.  <code class="file docutils literal notranslate"><span class="pre">page.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">user.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> have been
updated accordingly; there are new templates
<code class="file docutils literal notranslate"><span class="pre">person.bulkregister.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">person.bulkconfirm.html</span></code>.  A new file
<code class="file docutils literal notranslate"><span class="pre">extensions/email-template-self-reg</span></code> is also needed to provide
a template for the emails sent to such participants; an example is
provided.</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">user.item.html</span></code> has been updated to avoid warnings when
non-administrative users edit their own user records.</p></li>
<li><p>Name badges can be generated online from the registration system.  A
new configuration variable <code class="docutils literal notranslate"><span class="pre">matholymp_docgen_directory</span></code> must be
specified in <code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration
system; this gives the location of the directory with
<code class="file docutils literal notranslate"><span class="pre">documentgen.cfg</span></code>, or is empty if that directory is not
available, in which case online badge generation is not supported.
A new variable <code class="docutils literal notranslate"><span class="pre">matholymp_badge_use_background</span></code> must also be
specified.  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.index.html</span></code>
are updated accordingly.</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">user.item.html</span></code> have been updated to use more consistent
spelling.</p></li>
<li><p>Invitation letters can be generated using
<strong class="command">mo-document-generate</strong>, and online from the registration
system.  A new document generation template
<code class="file docutils literal notranslate"><span class="pre">invitation-letter-template.tex</span></code> is used for this purpose.
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.index.html</span></code> are updated
:<a class="reference external" href="file:accordingly">file:accordingly</a>.  New variables
<code class="docutils literal notranslate"><span class="pre">matholymp_invitation_letter_email</span></code> and
<code class="docutils literal notranslate"><span class="pre">matholymp_invitation_letter_register</span></code> must also be specified for
the registration system.  A new file
<code class="file docutils literal notranslate"><span class="pre">extensions/email-template-invitation-change</span></code> is also needed
to provide a template for the emails sent when personal details used
in such letters are changed after such a letter has been generated
online; an example is provided.</p></li>
<li><p>The example <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> for the registration system is changed
to make the division between links in the sidebar clearer.</p></li>
<li><p>Some page templates for the registration system are changed to fix
HTML validation errors.  The affected templates are
<code class="file docutils literal notranslate"><span class="pre">country.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">dpage.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">page.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">person.rooms.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.scoreboard.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">person.scoredisplay.html</span></code>,
<code class="file docutils literal notranslate"><span class="pre">person.scoreenter.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">person.scoreselect.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">person.status.html</span></code>.</p></li>
<li><p>The example <code class="file docutils literal notranslate"><span class="pre">dpage.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> for the
registration system are changed to use an HTML 5 DOCTYPE and specify
<code class="docutils literal notranslate"><span class="pre">lang=&quot;en&quot;</span></code> on the <code class="docutils literal notranslate"><span class="pre">html</span></code> tag.</p></li>
<li><p><strong class="command">mo-document-generate</strong> now supports a <code class="docutils literal notranslate"><span class="pre">--exam-order</span></code>
option that may be used to specify a text file with a list of
contestant codes, if papers or labels for contestant codes are to be
printed in an order other than the default (all Contestants 1, then
all Contestants 2, and so on).</p></li>
<li><p>Pages for countries and people, from both the static site and the
registration system, now inline flag images and photos at the same
width at which they are displayed, rather than inlining a full-width
image that the browser has to scale down.  To support this, Pillow
is now required for static site generation.
<code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> are updated
accordingly.</p></li>
<li><p>The static site and registration system now include an additional
summary table of participants for each event, with all photos shown
on a single page.  A new variable <code class="docutils literal notranslate"><span class="pre">photo_list_css</span></code> must be
specified in <code class="file docutils literal notranslate"><span class="pre">staticsite.cfg</span></code> for static site generation; a
new variable <code class="docutils literal notranslate"><span class="pre">matholymp_photo_list_class</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system; there is
a new page template <code class="file docutils literal notranslate"><span class="pre">person.summary.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">page.html</span></code> is updated accordingly.</p></li>
<li><p>There is some support for a virtual event, held remotely with
leaders assigning marks for their contestants’ scripts and with
medals, certificates and other materials shipped afterwards.  A new
variable <code class="docutils literal notranslate"><span class="pre">matholymp_virtual_event</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.  If
<code class="docutils literal notranslate"><span class="pre">Yes</span></code>, leader email addresses and physical addresses for each
country can be specified through <code class="file docutils literal notranslate"><span class="pre">country.prereg.html</span></code>, and
the registration status page notes when those are missing, while not
noting certain missing information that is irrelevant for a virtual
event.  <code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> is updated accordingly.  A new
column <code class="docutils literal notranslate"><span class="pre">Virtual</span> <span class="pre">Event</span></code> is used in the CSV file of events for the
static site.  For a virtual event, registering users may enter
scores for their own country if this is enabled under <span class="guilabel">Set
medal boundaries or disable registration</span>; <code class="file docutils literal notranslate"><span class="pre">event.item.html</span></code>
and <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> are updated accordingly.</p></li>
<li><p>A bug has been fixed in <strong class="command">mo-static-upgrade</strong> where it would
fail when the CSV file of events has a column <code class="docutils literal notranslate"><span class="pre">Age</span> <span class="pre">Day</span>
<span class="pre">Description</span></code>.</p></li>
<li><p><strong class="command">mo-document-generate language-list all</strong> now generates an
additional file <code class="file docutils literal notranslate"><span class="pre">language-status.txt</span></code>, showing which languages
have had papers provided and which are still waiting for those
papers.</p></li>
<li><p><strong class="command">mo-document-generate</strong> now supports generating papers for
all contestants in separate per-contestant files with a single
command, by specifying <code class="samp docutils literal notranslate"><span class="pre">all-split</span></code> in place of <code class="samp docutils literal notranslate"><span class="pre">all</span></code> for
the papers to generate.</p></li>
<li><p>The static site now supports adding custom text to the top of the
scoreboard page; this is intended for when per-event notes are
needed on that page.  A new variable <code class="docutils literal notranslate"><span class="pre">scoreboard_include_extra</span></code>
must be specified in <code class="file docutils literal notranslate"><span class="pre">staticsite.cfg</span></code>.</p></li>
</ul>
</section>
<section id="version-2018-02-0-11-february-2018">
<h2>Version 2018.02.0 (11 February 2018)<a class="headerlink" href="#version-2018-02-0-11-february-2018" title="Link to this heading">¶</a></h2>
<p>Because of changes to how data is represented in the registration
system, upgrades to this version can only be made between events when
the registration system is not active.</p>
<ul class="simple">
<li><p>Static site generation now supports different events having
different descriptions of the day for which contestant ages are
given.  If the CSV file of events has a column <code class="docutils literal notranslate"><span class="pre">Age</span> <span class="pre">Day</span>
<span class="pre">Description</span></code>, the text from that column will be used instead of
<code class="docutils literal notranslate"><span class="pre">age_day_desc</span></code> from <code class="file docutils literal notranslate"><span class="pre">staticsite.cfg</span></code>.</p></li>
<li><p><strong class="command">mo-static-import</strong> can now work directly with the ZIP files
of flags and photos from the registration system, instead of
requiring you to unpack them manually, and can automatically
download from the registration system any files not present in the
directory specified.</p></li>
<li><p><strong class="command">mo-static-import</strong> now sets <code class="docutils literal notranslate"><span class="pre">event_active_number</span></code> to
empty in <code class="file docutils literal notranslate"><span class="pre">staticsite.cfg</span></code> if it was previously set to the
number of the event for which data is being imported.</p></li>
<li><p>The registration system now allows entering phone numbers for all
staff, not just Guides.  Document generation will only use this
information in the case of Guides, but it may sometimes be useful
for other staff for other administrative purposes.
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is updated accordingly.</p></li>
<li><p>The registration system now supports requiring allergies and dietary
requirements information to be specified explicitly, possibly as
<code class="docutils literal notranslate"><span class="pre">None</span></code>, rather than left blank.  The new configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_require_diet</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.  If
<code class="docutils literal notranslate"><span class="pre">Yes</span></code>, this information is required for all people at
registration.  If <code class="docutils literal notranslate"><span class="pre">No</span></code>, that field can be left blank at
registration, as before.  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is updated
accordingly.</p></li>
<li><p>The registration system now supports editing rooms for many people
from a single page.  The example <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> is updated
accordingly, and a new <code class="file docutils literal notranslate"><span class="pre">person.rooms.html</span></code> is added.</p></li>
<li><p><strong class="command">mo-static-generate</strong> no longer writes output files if their
contents would be unchanged, to support dependency-based
postprocessing of its output.</p></li>
<li><p>The registration system now supports a configurable number of
languages being registered for each participant, rather than the
previous hardcoded two languages.  The new configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_num_languages</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is updated accordingly.  The first language
must be specified; the others are optional.  Labels for contestant
desks only list at most two languages.</p></li>
<li><p>Information about which arrival / departure points are airports (and
so should have flight numbers entered when registering participants)
is now entered and stored explicitly in the registration system,
rather than being based on whether the name contains <code class="docutils literal notranslate"><span class="pre">Airport</span></code>.
<code class="file docutils literal notranslate"><span class="pre">arrival.index.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">arrival.item.html</span></code> are updated
accordingly.</p></li>
<li><p>Which staff roles are allowed to be Guides for countries is now
configured through the registration system database, rather than
being hardcoded as only the <code class="docutils literal notranslate"><span class="pre">Guide</span></code> role.  The default is only the
<code class="docutils literal notranslate"><span class="pre">Guide</span></code> role, but other roles may be edited to allow them to guide
countries (if, for example, a Deputy Chief Guide is also guiding a
country).  <code class="file docutils literal notranslate"><span class="pre">matholymprole.index.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">matholymprole.item.html</span></code> are updated accordingly.</p></li>
<li><p>The example <code class="file docutils literal notranslate"><span class="pre">country.index.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.index.html</span></code>
for the registration system no longer link to ZIP files of flags and
photos, so matching the lists in the static site which does not have
such ZIP files, unless logged in administratively.</p></li>
</ul>
</section>
<section id="version-2017-05-0-1-may-2017">
<h2>Version 2017.05.0 (1 May 2017)<a class="headerlink" href="#version-2017-05-0-1-may-2017" title="Link to this heading">¶</a></h2>
<p>Because of changes to how data is represented in the registration
system, upgrades to this version can only be made between events when
the registration system is not active.</p>
<ul class="simple">
<li><p>The registration system now supports collecting nationality
information for participants.  The new configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_require_nationality</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.  If
<code class="docutils literal notranslate"><span class="pre">Yes</span></code>, this information is collected and is required for all
participants.  If <code class="docutils literal notranslate"><span class="pre">No</span></code>, this information is not collected.
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is updated accordingly.</p></li>
<li><p>The registration system now caches the generated scoreboard to avoid
high system load when many people are accessing it simultaneously
while coordination is going on.  The templates
<code class="file docutils literal notranslate"><span class="pre">person.scoreboard.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">person.scoredisplay.html</span></code>
are updated accordingly.  This functionality only works on a
Unix-like operating system; on other systems, the online scoreboard
will still be regenerated every time it is accessed.</p></li>
<li><p>The registration system now supports scaling down excessively large
photos uploaded when registering participants.  To support this
feature, matholymp now requires the <a class="reference external" href="https://python-pillow.org/">Pillow</a> library if the registration system is
used.  The new configuration variables <code class="docutils literal notranslate"><span class="pre">matholymp_photo_max_size</span></code>
and <code class="docutils literal notranslate"><span class="pre">matholymp_photo_min_dimen</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.  The
registration status page shows a list of people with large photos
and provides the option to scale down those photos.</p></li>
<li><p>The registration system now applies the sanity check that dates of
birth are not too recent to all participants with a date of birth
registered rather than just to contestants.  The example
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> is updated accordingly (change to the
comment on <code class="docutils literal notranslate"><span class="pre">matholymp_sanity_date_of_birth</span></code> only).</p></li>
<li><p>The registration system configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_require_contestants_female</span></code> is replaced by a variable
<code class="docutils literal notranslate"><span class="pre">matholymp_contestant_genders</span></code> with a comma-separated list of
genders allowed for contestants.  If empty, all genders are allowed,
which is equivalent to a value of <code class="docutils literal notranslate"><span class="pre">Female,</span> <span class="pre">Male,</span> <span class="pre">Non-binary</span></code> with
the default set of genders.</p></li>
<li><p>The registration system now detects and gives errors for more cases
of accessing invalid URLs instead of treating them as equivalent to
other valid URLs.</p></li>
<li><p>The full version of the CSV file of person details now lists
languages in a single <code class="docutils literal notranslate"><span class="pre">Languages</span></code> column (which contains a
comma-separated list interpreted as if it were the single row of a
CSV file) instead of separate columns for first and second
languages.  At most two languages can be requested at registration,
but this change allows papers in more than two languages to be
generated for a contestant in special circumstances by editing the
CSV file before generating the papers.  Labels for contestant desks
only list at most two languages.</p></li>
<li><p>Registration system users with ordinary accounts for registering
participants from their own country can now see a registration
status page with information about missing registration information
from their country.  The example <code class="file docutils literal notranslate"><span class="pre">page.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">person.status.html</span></code> are updated accordingly.</p></li>
<li><p>The example <code class="file docutils literal notranslate"><span class="pre">badge-template.tex</span></code> is updated to reflect that
allergies information is collected together with dietary
requirements.</p></li>
<li><p>Static site generation now supports having a different form of a
host country’s name that appears after “in”, for names requiring
“the” in that context.  A <code class="docutils literal notranslate"><span class="pre">Country</span> <span class="pre">Name</span> <span class="pre">In</span></code> column is added to the
CSV file of events for that purpose.</p></li>
<li><p>It is now possible to have multiple staff countries in the
registration system (e.g., to separate different kinds of staff),
although exactly one staff country is created automatically.  The
example <code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> is updated for this change.  CSV
files listing countries now explicitly track whether a country is a
normal or staff country.</p></li>
<li><p>The online scoreboard now indicates the maximum score a contestant
or country could achieve when only partial scores for that
contestant or country have been entered, and shows a contestant’s or
country’s total score, or a country’s total score on a problem, as a
blank rather than zero if no scores for that contestant or country,
or for that country on that problem, have been entered.</p></li>
<li><p>In the registration system, dates of birth now use separate
drop-down menus for day, month and year, instead of needing to be
entered as text in a particular format or using a pop-up not
designed for dates far in the past.  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is
updated accordingly.</p></li>
<li><p>In the registration system, arrival and departure times now use
separate drop-down menus for date (restricted to dates within the
permitted range), hour and minute, instead of needing to be entered
as text in a particular format or using a pop-up calendar.
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is updated accordingly.  The full version
of the CSV file of person details now lists the arrival and
departure dates separately from the arrival and departure times.
Arrivals and departures after midnight at the start of the
configured latest arrival and departure dates are now allowed as
intended.  The <code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_date_template</span></code> is no longer used and is removed from
the example file.</p></li>
<li><p>The registration system now gives an error if a person is registered
as departing before they arrive.</p></li>
</ul>
</section>
<section id="version-2017-01-0-8-january-2017">
<h2>Version 2017.01.0 (8 January 2017)<a class="headerlink" href="#version-2017-01-0-8-january-2017" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>The ZIP files of flags and photos that can be downloaded from the
registration system now have their contents arranged by the
registration system identifier for the country or person, not by
that for the file itself.</p></li>
<li><p>The registration system now supports uploading consent forms for
participants, where the host country requires this for participants
under a certain age. The new configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_consent_forms_date</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.  If
empty, consent forms are disabled; otherwise, it must be a date such
that participants born on or after that date require consent forms
to be uploaded.  If this feature is used, the configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_consent_forms_url</span></code> must also be set, to the URL of the
blank consent form.  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">person.index.html</span></code> are updated to support this feature (but
local changes may be needed to point people to an appropriate blank
consent form to fill in), and new templates
<code class="file docutils literal notranslate"><span class="pre">private_file.item.html</span></code> and <code class="file docutils literal notranslate"><span class="pre">private_file.index.html</span></code>
are added.</p></li>
<li><p>The registration system templates <code class="file docutils literal notranslate"><span class="pre">user.item.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> are updated to clarify the effects of
editing email addresses entered in the registration system.</p></li>
<li><p>The registration system template <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> now
collects information “Allergies and dietary requirements” rather
than simply “Dietary requirements”.  The CSV file column is renamed
accordingly.</p></li>
<li><p>The registration system now supports requiring a date of birth to be
specified for all participants rather than just for contestants.
The new configuration variable <code class="docutils literal notranslate"><span class="pre">matholymp_require_date_of_birth</span></code>
must be specified in <code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the
registration system (as <code class="docutils literal notranslate"><span class="pre">Yes</span></code> or <code class="docutils literal notranslate"><span class="pre">No</span></code>).
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is updated accordingly.</p></li>
<li><p>The registration system now supports collecting passport or identity
card numbers for participants.  The new configuration variable
<code class="docutils literal notranslate"><span class="pre">matholymp_require_passport_number</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.  If
<code class="docutils literal notranslate"><span class="pre">Yes</span></code>, this information is collected and is required for all
participants.  If <code class="docutils literal notranslate"><span class="pre">No</span></code>, this information is not collected.
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> is updated accordingly.</p></li>
<li><p>My list of ideas for possible future improvements to matholymp is
now included in the documentation.  See <a class="reference internal" href="../todo/#todo"><span class="std std-ref">Matholymp todo list</span></a>.</p></li>
</ul>
</section>
<section id="version-2016-05-0-1-may-2016">
<h2>Version 2016.05.0 (1 May 2016)<a class="headerlink" href="#version-2016-05-0-1-may-2016" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Static site generation now supports a person with roles for more
than one country at an event.  (This is only intended for cases
where someone has a role, such as Leader or Deputy Leader, for more
than one non-staff country, such as A and B teams for the host
country.  If someone has both non-staff and staff roles, such as
being both a Leader and on the organising committee, this should be
represented by listing other roles under the non-staff
participation.)  In the registration system, this should be
represented by separately registered entries for each country, with
the same URL for past participation listed; it is not currently
possible to register a new participant this way without multiple
records being created for them by <strong class="command">mo-static-import</strong>.</p></li>
<li><p>When papers are generated with <strong class="command">mo-document-generate</strong>, the
directory with papers received from leaders may contain only the
LaTeX sources of a paper without a corresponding PDF version, in
which case the PDF version is generated automatically with
<strong class="command">pdflatex</strong>.  (If both PDF and LaTeX versions are present,
the PDF version will be used, as before.)</p></li>
<li><p><strong class="command">mo-document-generate</strong> can now be used with arguments
<code class="docutils literal notranslate"><span class="pre">paper</span> <span class="pre">new-drafts</span></code> to generate draft papers to display only for
translations that are new or modified since the previous call with
those arguments.  Previously the user needed to keep track of which
new or revised papers needed drafts generating.</p></li>
<li><p>The registration system code and associated Roundup patches have
been updated for Roundup 1.5.1.  Because of Roundup API changes, the
code will no longer work with older Roundup versions.</p></li>
<li><p>The registration system now checks that flags are uploaded in PNG
format, and that photos are uploaded in JPEG or PNG format, and that
the filename extension for such uploaded files matches the format of
the contents of the files.  <code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> and
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> are updated to mention these requirements.
(These checks are not applied to flags or photos automatically
reused from previous years.)</p></li>
<li><p>The numbers of rows and columns on each page of the display
scoreboard are now configurable instead of being hardcoded as 2.
The new configuration variables
<code class="docutils literal notranslate"><span class="pre">matholymp_display_scoreboard_rows</span></code> and
<code class="docutils literal notranslate"><span class="pre">matholymp_display_scoreboard_columns</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the registration system.</p></li>
<li><p>If a person is registered with “Other roles” including their main
role, that duplicate entry will be automatically excluded when
generating the CSV file of person details, and so when the final
registration data are transferred to the static site.</p></li>
</ul>
</section>
<section id="version-2016-01-0-2-january-2016">
<h2>Version 2016.01.0 (2 January 2016)<a class="headerlink" href="#version-2016-01-0-2-january-2016" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Generated statistics now refer to the number of participating teams,
not countries, at an event, reflecting that what is counted is not
countries in the matholymp sense (including the special staff
country and any countries sending only observers), nor in the sense
of common usage (B teams are included, but countries sending only
observers are excluded), but those sending nonempty teams.  This
includes changes to the CSV column headers in generated CSV files
(though not in those that serve as inputs to
<strong class="command">mo-static-generate</strong>).</p></li>
<li><p>The <strong class="command">mo-static-import</strong> script no longer takes an argument
specifying the number of the event for which data is to be imported;
instead, this is determined automatically from the data imported.</p></li>
<li><p><strong class="command">mo-static-import</strong> has an additional sanity check that data
is not already present in the static site for countries or people at
the event for which data is being imported.</p></li>
<li><p>When scores are incomplete, the live scoreboard’s cumulative
statistics on scores show the maximum number of contestants who
might have at least a given score after their scores are complete,
as well as the number who have at least that score based on the
scores entered so far.</p></li>
<li><p>The default set of choices for gender in the registration system now
includes “Other”.</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> no longer refers to accounts being created
automatically only if the specified email address is not used by any
other country.  (That restriction was removed in version 2015.01.0.)</p></li>
<li><p>When the registration system is initialised, if
<code class="docutils literal notranslate"><span class="pre">matholymp_initial_languages</span></code> in <code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code>
includes the special language name <code class="docutils literal notranslate"><span class="pre">PREVIOUS</span></code>, then all languages
of papers at previous events will automatically be added to the
registration system; this requires
<code class="docutils literal notranslate"><span class="pre">matholymp_static_site_directory</span></code> to point to the static site data
for previous events.  To exclude some previous languages while
including others automatically, languages starting with <code class="docutils literal notranslate"><span class="pre">-</span></code> may be
listed after <code class="docutils literal notranslate"><span class="pre">PREVIOUS</span></code> (for example, <code class="docutils literal notranslate"><span class="pre">PREVIOUS,</span> <span class="pre">-Latin</span></code>).</p></li>
</ul>
</section>
<section id="version-2015-04-0-5-april-2015">
<h2>Version 2015.04.0 (5 April 2015)<a class="headerlink" href="#version-2015-04-0-5-april-2015" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>There is a new script <strong class="command">mo-static-upgrade</strong> that should be
run from the directory containing the static site when upgrading
matholymp.</p></li>
<li><p>Country and role names can now contain commas without this causing
ambiguity in interpretation of the CSV fields <code class="docutils literal notranslate"><span class="pre">Other</span> <span class="pre">Roles</span></code> and
<code class="docutils literal notranslate"><span class="pre">Guide</span> <span class="pre">For</span></code>.  Those fields now contain values interpreted as if
they were the single row of a CSV file, instead of as simple
comma-separated strings.</p></li>
<li><p>The registration system now detects and warns users if given or
family names are entered all in uppercase.  (This is a warning
rather than a hard error because of the possibility that in some
cases the correct orthography is all-uppercase; for example, for a
single-character name.)  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> needs updating to
make use of this feature.</p></li>
<li><p>The example document-generation template
<code class="file docutils literal notranslate"><span class="pre">coord-form-template.tex</span></code> now handles longer country names.</p></li>
<li><p>New configuration variables <code class="docutils literal notranslate"><span class="pre">coord_form_print_logo</span></code> and
<code class="docutils literal notranslate"><span class="pre">coord_form_text_left</span></code> must be specified in
<code class="file docutils literal notranslate"><span class="pre">documentgen.cfg</span></code>.  These can be used to configure the
template for coordination forms; the example
<code class="file docutils literal notranslate"><span class="pre">coord-form-template.tex</span></code> has been updated to use them
(settings of <code class="docutils literal notranslate"><span class="pre">Yes</span></code> make the template behave the same as in
previous versions).  In addition, the <code class="docutils literal notranslate"><span class="pre">--background</span></code> option to
<strong class="command">mo-document-generate</strong> can be used to include a background
design from <code class="file docutils literal notranslate"><span class="pre">coord-form-background.pdf</span></code> when generating
coordination forms; again, the example template has been updated for
this.</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> has had clarification added that the
languages to enter for contestants are those in which papers are
requested.</p></li>
<li><p>Scoreboards now properly use singular rather than plural when
referring to a single contestant having received a particular award,
or to a single contestant being registered.</p></li>
<li><p>Special prizes are now supported.  <code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> needs
updating to make use of this feature in the registration system.</p></li>
</ul>
</section>
<section id="version-2015-01-0-4-january-2015">
<h2>Version 2015.01.0 (4 January 2015)<a class="headerlink" href="#version-2015-01-0-4-january-2015" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>The registration system can detect some more cases of invalid URLs
specified for previous participation.</p></li>
<li><p>A new configuration variable <code class="docutils literal notranslate"><span class="pre">matholymp_static_site_directory</span></code>
must be specified in <code class="file docutils literal notranslate"><span class="pre">extensions/config.ini</span></code> for the
registration system.  If this is empty, there is no change in
functionality from previous versions.  If not empty, it is a
filesystem path to the static site (directory with
<code class="file docutils literal notranslate"><span class="pre">staticsite.cfg</span></code>), either absolute or relative to the Roundup
instance directory, on the system running the registration system;
this directory must be readably by the registration system, but need
not be writable.  This is used by the registration system to access
information from the static site (specifically, to check whether
URLs for previous participation specified at registration time do
relate to some country or person that previously participated, and
to support automatic reuse of flags and photos from previous years).</p></li>
<li><p>When registering a country, you can specify to reuse a flag from a
previous year (without needing to download and reupload it
manually); this reuse is the default option.  This depends on
<code class="docutils literal notranslate"><span class="pre">matholymp_static_site_directory</span></code> pointing to the static site
data.  The HTML site template <code class="file docutils literal notranslate"><span class="pre">country.item.html</span></code> also needs
updating from the provided examples to make use of this feature.
Similarly, photos from previous years are reused by default when a
person is registered (if a URL for previous participation is
specified), with the same configuration requirement;
<code class="file docutils literal notranslate"><span class="pre">person.item.html</span></code> needs updating to make use of this feature.</p></li>
<li><p>The registration system makes further sanity checks on things done
by administrative users.</p></li>
<li><p>A bug has been fixed that produced errors when downloading a CSV
file of scores from the registration system.</p></li>
<li><p>Previously, when a person or country was removed from the
registration system, although they no longer appeared in the lists
of registered people or countries, accessing the page for that
person or country directly via its URL (e.g., if it had been indexed
by a search engine before the removal) would still show their
details, with no indication (unless logged in with edit access) that
the person or country was no longer registered.  Now, accessing the
page for a removed person or country will give an error instead of
showing any details for that person or country, unless logged in
with access to edit that person or country’s details.</p></li>
<li><p>When a contact email address was given for a country at registration
time so that a registration system account could be created
automatically, that address did not appear in public on the
registration system page for that country but was unintentionally
available to the public through the XML-RPC interface to the
registration system.  Now the registration system properly denies
access to the contact email address through the XML-RPC interface as
well as the main web interface.</p></li>
<li><p>The same contact email address can now be specified for multiple
user accounts (this can be useful, for example, if the person
registering participants from the host country also has an
administrative account, or the same person registers participants
for both a country’s main team and its B team).  You may wish to
update <code class="file docutils literal notranslate"><span class="pre">user.forgotten.html</span></code> from the provided examples as the
example file has been updated to reflect this change.</p></li>
<li><p>Scoreboards now show additional statistical information about
scores.</p></li>
</ul>
</section>
<section id="version-2014-09-0-28-september-2014">
<h2>Version 2014.09.0 (28 September 2014)<a class="headerlink" href="#version-2014-09-0-28-september-2014" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>First public release.</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../">matholymp</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/">Introduction, prerequisites and downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roundup-patches/">Roundup patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../static-site/">Static site generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../online-registration/">Online registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../document-generation/">Document generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing to matholymp</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#next-version-unreleased">Next version (unreleased)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2020-07-0-22-july-2020">Version 2020.07.0 (22 July 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2018-02-0-11-february-2018">Version 2018.02.0 (11 February 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2017-05-0-1-may-2017">Version 2017.05.0 (1 May 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2017-01-0-8-january-2017">Version 2017.01.0 (8 January 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2016-05-0-1-may-2016">Version 2016.05.0 (1 May 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2016-01-0-2-january-2016">Version 2016.01.0 (2 January 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2015-04-0-5-april-2015">Version 2015.04.0 (5 April 2015)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2015-01-0-4-january-2015">Version 2015.01.0 (4 January 2015)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2014-09-0-28-september-2014">Version 2014.09.0 (28 September 2014)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../copying/">Copyright and license</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thanks/">Thanks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo/">Matholymp todo list</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../">Documentation overview</a><ul>
      <li>Previous: <a href="../contributing/" title="previous chapter">Contributing to matholymp</a></li>
      <li>Next: <a href="../copying/" title="next chapter">Copyright and license</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2014-2025, Joseph Samuel Myers.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/release-notes.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>